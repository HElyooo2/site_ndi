{% extends 'base.html.twig' %}

{% block title %}Hello CaptchaController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">
    <h1>Hello {{ controller_name }}! âœ…</h1>

    This friendly message is coming from:
    {# {{dump(images)}} #}
    <ul>
        {% for step in steps %}<li>Step : {{step}}</li>{% endfor %}

    </ul>
    <div id="parent">
    {% for img in images %}<img id="{{ img[1] }}" src = "{{img[0]}}" class="common" draggable="true" ondragstart="drag(event)" ondrop="drop(event)" ondragover="allowDrop(event)"> {% endfor %}
    {# <div id="box4" class="common" draggable="true" ondragstart="drag(event)" ondrop="drop(event)" ondragover="allowDrop(event)">Note 1</div> #}
    </div>
    <script>
    function captcha()

    {
        var ancestor = document.getElementById('parent'),
        descendents = ancestor.getElementsByTagName('*');
         // gets all descendent of ancestor
        var i, e, d;
        for (i = 0; i < descendents.length; ++i) {
            e = descendents[i];
            d += e.id;
        } 

        if(d == "undefinedbox1box2box3"){
            window.location.href = "/";
        }
        else{
            window.location.reload();
        }
        //
    }
    </script>
    <button onclick="captcha()">Click me</button> 
    
   

</div>
{% endblock %}
